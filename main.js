function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-XVP4CEMY37"),"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/sw.js").then((function(e){console.log("ServiceWorker registration successful")})).catch((function(e){console.log("ServiceWorker registration failed: ",e)}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("dark-mode-toggle");if(e){e.addEventListener("click",(function(){document.body.classList.toggle("dark-mode");const e=document.body.classList.contains("dark-mode");localStorage.setItem("darkMode",e)}));"true"===localStorage.getItem("darkMode")&&document.body.classList.add("dark-mode")}const t=document.getElementById("hamburger-btn"),n=document.getElementById("mobile-nav"),o=document.querySelectorAll(".mobile-nav .nav-link");t&&n&&(t.addEventListener("click",(function(){t.classList.toggle("active"),n.classList.toggle("active");const e=t.classList.contains("active");t.setAttribute("aria-expanded",e),document.body.style.overflow=e?"hidden":""})),o.forEach((e=>{e.addEventListener("click",(function(){t.classList.remove("active"),n.classList.remove("active"),t.setAttribute("aria-expanded","false"),document.body.style.overflow=""}))})),document.addEventListener("click",(function(e){const o=n.contains(e.target),i=t.contains(e.target);o||i||!n.classList.contains("active")||(t.classList.remove("active"),n.classList.remove("active"),t.setAttribute("aria-expanded","false"),document.body.style.overflow="")})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&n.classList.contains("active")&&(t.classList.remove("active"),n.classList.remove("active"),t.setAttribute("aria-expanded","false"),document.body.style.overflow="")})),window.addEventListener("resize",(function(){window.innerWidth>768&&n.classList.contains("active")&&(t.classList.remove("active"),n.classList.remove("active"),t.setAttribute("aria-expanded","false"),document.body.style.overflow="")})));const i=document.getElementById("jump-to-top");i&&(window.addEventListener("scroll",(function(){i.style.display=window.scrollY>200?"block":"none"})),i.addEventListener("click",(function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})));const r=document.querySelectorAll(".carousel-slide"),a=document.getElementById("prevBtn"),s=document.getElementById("nextBtn");let c=0;function l(e){r.forEach((function(t,n){t.classList.remove("active"),n===e&&t.classList.add("active")}))}a&&s&&r.length>0&&(a.addEventListener("click",(function(){c=(c-1+r.length)%r.length,l(c)})),s.addEventListener("click",(function(){c=(c+1)%r.length,l(c)})),setInterval((function(){c=(c+1)%r.length,l(c)}),5e3));const d=document.getElementById("lawn-calculator-form"),u=document.getElementById("calculator-result"),m=document.getElementById("water-frequency"),v=document.getElementById("fertilizer-advice");d&&d.addEventListener("submit",(function(e){e.preventDefault();const t=Number(document.getElementById("lawn-size").value),n=document.getElementById("grass-type").value;if(!t||!n)return void alert("Please fill in all fields");let o="warm-season"===n?3:2,i="warm-season"===n?"Use a nitrogen-rich fertilizer monthly in summer.":"Use a balanced fertilizer in spring and fall.";m&&(m.textContent=`Recommended watering: ~${o} times per week for ${t.toLocaleString()} sq. ft.`),v&&(v.textContent=i),u&&(u.style.display="block",u.scrollIntoView({behavior:"smooth",block:"nearest"}))}));document.querySelectorAll('.nav-link[href^="#"]').forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();const t=this.getAttribute("href").substring(1),n=document.getElementById(t);n&&n.scrollIntoView({behavior:"smooth",block:"start"})}))}));const f=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&e.target.classList.add("fade-in")}))}),{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".feature-card").forEach((function(e){f.observe(e)}));function g(e,t){let n=e.nextElementSibling;n&&n.classList.contains("field-error")||(n=document.createElement("div"),n.className="field-error",e.parentNode.insertBefore(n,e.nextSibling)),n.textContent=t}document.querySelectorAll("input, select").forEach((function(e){e.addEventListener("blur",(function(){!function(e){const t=e.value.trim();e.hasAttribute("required")&&!t?(e.classList.add("error"),g(e,"This field is required")):"number"===e.type&&t&&isNaN(t)?(e.classList.add("error"),g(e,"Please enter a valid number")):(e.classList.remove("error"),function(e){const t=e.nextElementSibling;t&&t.classList.contains("field-error")&&t.remove()}(e))}(this)}))}))})),window.addEventListener("error",(function(e){console.error("JavaScript error:",e.error)})),window.addEventListener("load",(function(){const e=performance.now();console.log(`Page loaded in ${Math.round(e)}ms`),void 0!==gtag&&gtag("event","page_load_time",{event_category:"Performance",value:Math.round(e)})}));